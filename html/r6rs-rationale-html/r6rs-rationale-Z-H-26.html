<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

Generated from r6rs-rationale.tex by tex2page, v 20070803
(running on MzScheme 371, unix), 
(c) Dorai Sitaram, 
http://www.ccs.neu.edu/~dorai/tex2page/tex2page-doc.html

-->
<head>
<title>
Revised^6 Report on the Algorithmic Language Scheme - Non-Normative Appendices -
</title>
<link rel="stylesheet" type="text/css" href="r6rs-rationale-Z-S.css" title=default>
<meta name=robots content="index,follow">
</head>
<body>
<div id=slidecontent>
<div align=right class=navigation>[Go to <span><a href="r6rs-rationale.html">first</a>, <a href="r6rs-rationale-Z-H-25.html">previous</a></span><span>, <a href="r6rs-rationale-Z-H-27.html">next</a></span> page<span>; &nbsp;&nbsp;</span><span><a href="r6rs-rationale-Z-H-2.html#node_toc_start">contents</a></span>]</div>
<p></p>
<a name="node_chap_24"></a>
<h1 class=chapter>
<div class=chapterheading><a href="r6rs-rationale-Z-H-2.html#node_toc_node_chap_24">Chapter 24</a></div><br>
<a href="r6rs-rationale-Z-H-2.html#node_toc_node_chap_24">Hashtables</a></h1>
<p></p>
<a name="node_sec_24.1"></a>
<h2 class=section><a href="r6rs-rationale-Z-H-2.html#node_toc_node_sec_24.1">24.1&nbsp;&nbsp;Caching</a></h2>
<p>The specification notes that hashtables are allowed to cache the
results of calling the hash function and equivalence function, and
that any hashtable operation may call the hash function more than
once.  Hashtable lookups are often followed by updates, so caching may
improve performance.  Hashtables are free to change their internal
representation at any time, which may result in many calls to the hash
function.</p>
<p>
</p>
<a name="node_sec_24.2"></a>
<h2 class=section><a href="r6rs-rationale-Z-H-2.html#node_toc_node_sec_24.2">24.2&nbsp;&nbsp;Immutable hashtables</a></h2>
<p>Hashtable references may be less expensive with immutable hashtables.
Also, the creator of a hashtable may wish to prevent 
modifications, particularly by code outside of the creator&#8217;s 
control.</p>
<p>
</p>
<a name="node_sec_24.3"></a>
<h2 class=section><a href="r6rs-rationale-Z-H-2.html#node_toc_node_sec_24.3">24.3&nbsp;&nbsp;Hash functions</a></h2>
<p>The <tt>make-eq-hashtable</tt> and <tt>make-eqv-hashtable</tt> constructors
are designed to hide their hash function.  This allows implementations
to use the machine address of an object as its hash value, rehashing
parts of the table as necessary if a garbage collector moves
objects to different addresses.</p>
<p>
</p>
<div class=smallskip></div>
<p style="margin-top: 0pt; margin-bottom: 0pt">
<div align=right class=navigation>[Go to <span><a href="r6rs-rationale.html">first</a>, <a href="r6rs-rationale-Z-H-25.html">previous</a></span><span>, <a href="r6rs-rationale-Z-H-27.html">next</a></span> page<span>; &nbsp;&nbsp;</span><span><a href="r6rs-rationale-Z-H-2.html#node_toc_start">contents</a></span>]</div>
</p>
<p></p>
</div>
</body>
</html>
